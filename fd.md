# 機能設計

## 感情分析機能

- ユーザーが分析したい期間を自由に設定できる
- 分析対象は日記のテキストデータ
- 各日ごとに感情を 5 段階で推定
- 感情分析の結果は、全体・月単位・曜日単位で集計・分析
- 感情の分布を出力
- 日記 1 件あたりの平均文字数も算出し
- 分析結果はターミナルへの出力と、表形式での表示の両方に対応
- 曜日別の充足率はターミナルへ出力する
- 各モジュールにテストを実装する

## 操作

- shell で以下の流れを実装する
- データを扱いやすい形に揃える(`result`に csv を作成)
- cli などを使って期間を設定する
- 分析処理を実行
- 結果をターミナルへ出力する
- 結果をチャート、テキストにして`result`へ出力する

## 日付フォーマット

- 言語によって日付の表記は異なるので、随時`date_format.py`を変更してもらう

# 感情分析と必要なデータ

## データ

- 日付
- 5 段階感情
- 文字数

**result.csv として以下を出力**

- 日付
- 5 段階感情
- 文字数
- タイトル
- 内容

## メイン解析

### グラフ表示

**月別感情分布**

- 月毎の 5 段階感情の割合を棒グラフにする

**月別感情バランス**

- positive / negative の割合を対照棒グラフにし、割合を示す折れ線グラフを表示

**月毎の平均文字数と感情との関係を表示**

- 横軸を月毎に縦軸を日毎の文字数を感情ごとの色で点で表示し、平均文字数を折れ線グラフで表示する
- タイトルも同様に表示

**メイン解析を曜日毎でも表示**

**充填率を折れ線グラフで表示**

### テキスト表示

- これらのグラフを出力する際には同時にターミナルとテキストファイルにも結果を書き込む
- これらのデータを元に AI を使って評価を行う

## 参考

https://contradiction29.hatenablog.com/entry/2025/01/19/133846
